import { Lesson } from '@/types/vim';

export const lessons: Lesson[] = [
  // ============ LEVEL 1: THE BASICS ============
  {
    id: '1.1',
    title: 'The Basics',
    subtitle: 'Moving the Cursor',
    level: 1,
    lessonNumber: 1,
    instructions: [
      'Welcome to VimInteractive! This tutorial will teach you Vim, one of the most powerful text editors.',
      '',
      'The cursor in Vim is controlled by the h, j, k, l keys:',
      '',
      '       ^',
      '       k          Hint: The h key is at the left and moves left.',
      '  < h     l >           The l key is at the right and moves right.',
      '       j                The j key looks like a down arrow.',
      '       v',
      '',
      'Practice moving around the text below using these keys.',
    ],
    task: 'Move the cursor to the X mark using h, j, k, l keys only.',
    initialBuffer: [
      '~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~',
      '~                                           ~',
      '~   Start here -->  O                       ~',
      '~                                           ~',
      '~                                           ~',
      '~                          X  <-- Goal      ~',
      '~                                           ~',
      '~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~',
    ],
    targetBuffer: [],
    hints: [
      'Use j to move down, l to move right',
      'The goal is marked with X',
    ],
    keysToLearn: ['h', 'j', 'k', 'l'],
  },
  {
    id: '1.2',
    title: 'The Basics',
    subtitle: 'Exiting Vim',
    level: 1,
    lessonNumber: 2,
    instructions: [
      'Before learning more commands, you should know how to exit Vim.',
      '',
      '1. Press <ESC> to make sure you are in Normal mode.',
      '',
      '2. Type :q! and press <Enter>',
      '   This quits without saving changes.',
      '',
      '3. Type :wq and press <Enter>',
      '   This saves changes and quits.',
      '',
      'In this tutorial, we will use :next to move to the next lesson.',
    ],
    task: 'Type :next and press Enter to continue.',
    initialBuffer: [
      '',
      '  In a real Vim session, you would type:',
      '',
      '     :q!    to quit without saving',
      '     :wq    to save and quit',
      '     :w     to save without quitting',
      '',
      '  For this tutorial, type  :next  to continue.',
      '',
    ],
    targetBuffer: [],
    hints: [
      'Press : to enter command mode',
      'Then type "next" and press Enter',
    ],
    keysToLearn: [':', 'q', 'w'],
  },
  {
    id: '1.3',
    title: 'The Basics',
    subtitle: 'Text Editing - Deletion',
    level: 1,
    lessonNumber: 3,
    instructions: [
      'Now let\'s learn how to delete characters.',
      '',
      'Press x to delete the character under the cursor.',
      '',
      'This is one of the most basic editing commands in Vim.',
      'Position your cursor over a character and press x to remove it.',
    ],
    task: 'Delete the extra characters to fix the sentence.',
    initialBuffer: [
      '',
      '  The ccow jumpedd ovverr the mooon.',
      '',
      '  Fix the sentence above by deleting the extra letters.',
      '',
    ],
    targetBuffer: [
      '',
      '  The cow jumped over the moon.',
      '',
      '  Fix the sentence above by deleting the extra letters.',
      '',
    ],
    hints: [
      'Move to each double letter',
      'Press x to delete the extra character',
    ],
    keysToLearn: ['x'],
  },
  {
    id: '1.4',
    title: 'The Basics',
    subtitle: 'Text Editing - Insertion',
    level: 1,
    lessonNumber: 4,
    instructions: [
      'To insert text, press i to enter Insert mode.',
      '',
      'In Insert mode, you can type text normally.',
      'Press <ESC> to return to Normal mode when done.',
      '',
      '  Normal mode: Navigate and execute commands',
      '  Insert mode: Type text like a normal editor',
    ],
    task: 'Insert the missing letters to complete the words.',
    initialBuffer: [
      '',
      '  Ths sntnce is mssing sme vwels.',
      '',
      '  Add the missing vowels to fix it.',
      '',
    ],
    targetBuffer: [
      '',
      '  This sentence is missing some vowels.',
      '',
      '  Add the missing vowels to fix it.',
      '',
    ],
    hints: [
      'Move to where a letter is missing',
      'Press i to enter insert mode',
      'Type the missing letter(s)',
      'Press ESC to return to normal mode',
    ],
    keysToLearn: ['i', 'ESC'],
  },
  {
    id: '1.5',
    title: 'The Basics',
    subtitle: 'Text Editing - Appending',
    level: 1,
    lessonNumber: 5,
    instructions: [
      'The a command lets you append text AFTER the cursor.',
      '',
      '  i - insert BEFORE the cursor',
      '  a - append AFTER the cursor',
      '  A - append at the END of the line',
      '',
      'These are essential for efficient text editing.',
      '',
      'Complete each line to match the target:',
      '  Line 1: "...more text."  (add "t.")',
      '  Line 2: "...needs more." (add "s more.")',
      '  Line 3: "...lines!"      (add "!")',
    ],
    task: 'Use a or A to append the missing text to each line.',
    initialBuffer: [
      '',
      '  This line needs more tex',
      '  And this one need',
      '  Complete these lines',
      '',
    ],
    targetBuffer: [
      '',
      '  This line needs more text.',
      '  And this one needs more.',
      '  Complete these lines!',
      '',
    ],
    hints: [
      'Move to end of incomplete word',
      'Press a to append after cursor',
      'Or press A to append at line end',
    ],
    keysToLearn: ['a', 'A'],
  },

  // ============ LEVEL 2: DELETION COMMANDS ============
  {
    id: '2.1',
    title: 'Deletion Commands',
    subtitle: 'Delete Word',
    level: 2,
    lessonNumber: 1,
    instructions: [
      'Vim operators can be combined with motions.',
      '',
      '  dw - delete from cursor to start of next word',
      '  de - delete from cursor to end of current word',
      '  d$ - delete from cursor to end of line',
      '',
      'The d command is called an operator.',
      'Operators work with motions to define what to delete.',
    ],
    task: 'Use dw to delete the extra words.',
    initialBuffer: [
      '',
      '  There are some some words that that are repeated.',
      '',
      '  Delete the the extra words.',
      '',
    ],
    targetBuffer: [
      '',
      '  There are some words that are repeated.',
      '',
      '  Delete the extra words.',
      '',
    ],
    hints: [
      'Position cursor at start of duplicate word',
      'Type dw to delete the word',
    ],
    keysToLearn: ['d', 'w', 'e', '$'],
  },
  {
    id: '2.2',
    title: 'Deletion Commands',
    subtitle: 'Using Counts',
    level: 2,
    lessonNumber: 2,
    instructions: [
      'You can prefix commands with a count to repeat them.',
      '',
      '  2w  - move forward 2 words',
      '  3e  - move to end of 3rd word ahead',
      '  0   - move to start of line',
      '  2dd - delete 2 lines',
      '  d2w - delete 2 words',
      '',
      'Counts make Vim incredibly efficient!',
    ],
    task: 'Use counts to navigate and delete efficiently.',
    initialBuffer: [
      '',
      '  This is a a a test with extra words words words here.',
      '',
      '  Use d3w to delete "a a a" in one command.',
      '',
    ],
    targetBuffer: [
      '',
      '  This is test with extra here.',
      '',
      '  Use d3w to delete "a a a" in one command.',
      '',
    ],
    hints: [
      'Position cursor on first "a"',
      'Type d3w to delete three words at once',
    ],
    keysToLearn: ['2', '3', '0'],
  },
  {
    id: '2.3',
    title: 'Deletion Commands',
    subtitle: 'Delete Line',
    level: 2,
    lessonNumber: 3,
    instructions: [
      'To delete an entire line, use dd.',
      '',
      'This is very common and useful:',
      '  dd  - delete current line',
      '  2dd - delete 2 lines',
      '  5dd - delete 5 lines',
      '',
      'The deleted lines are stored and can be pasted later.',
    ],
    task: 'Delete the marked lines using dd.',
    initialBuffer: [
      '',
      '  Keep this line.',
      '  DELETE THIS LINE',
      '  Keep this one too.',
      '  DELETE THIS ALSO',
      '  And keep this.',
      '',
    ],
    targetBuffer: [
      '',
      '  Keep this line.',
      '  Keep this one too.',
      '  And keep this.',
      '',
    ],
    hints: [
      'Move to a line that says DELETE',
      'Press dd to delete the entire line',
    ],
    keysToLearn: ['dd'],
  },
  {
    id: '2.4',
    title: 'Deletion Commands',
    subtitle: 'The Undo Command',
    level: 2,
    lessonNumber: 4,
    instructions: [
      'Made a mistake? Vim has powerful undo/redo!',
      '',
      '  u     - undo the last change',
      '  U     - undo all changes on current line',
      '  Ctrl-r - redo (undo the undo)',
      '',
      'Vim remembers many levels of undo history.',
      'You can undo as far back as you need!',
    ],
    task: 'Delete words, then undo to restore them.',
    initialBuffer: [
      '',
      '  This line has important words.',
      '  Delete some words, then press u to undo.',
      '',
      '  Try deleting this whole line with dd, then undo!',
      '',
    ],
    targetBuffer: [
      '',
      '  This line has important words.',
      '  Delete some words, then press u to undo.',
      '',
      '  Try deleting this whole line with dd, then undo!',
      '',
    ],
    hints: [
      'Delete some text with x, dw, or dd',
      'Press u to undo your last change',
      'Press Ctrl-r to redo',
    ],
    keysToLearn: ['u', 'U', 'Ctrl-r'],
  },

  // ============ LEVEL 3: PUT, REPLACE, AND CHANGE ============
  {
    id: '3.1',
    title: 'Put, Replace, Change',
    subtitle: 'The Put Command',
    level: 3,
    lessonNumber: 1,
    instructions: [
      'When you delete text, Vim saves it in a register.',
      'You can "put" (paste) it elsewhere!',
      '',
      '  p - put (paste) AFTER the cursor',
      '  P - put (paste) BEFORE the cursor',
      '',
      'This lets you move text around efficiently.',
    ],
    task: 'Delete a word and put it in the correct location.',
    initialBuffer: [
      '',
      '  The placed wrong word is here.',
      '',
      '  Delete "wrong" and put it before "placed".',
      '',
    ],
    targetBuffer: [
      '',
      '  The wrong placed word is here.',
      '',
      '  Delete "wrong" and put it before "placed".',
      '',
    ],
    hints: [
      'Move to "wrong" and delete with dw',
      'Move to before "placed"',
      'Press P to put before cursor',
    ],
    keysToLearn: ['p', 'P'],
  },
  {
    id: '3.2',
    title: 'Put, Replace, Change',
    subtitle: 'The Replace Command',
    level: 3,
    lessonNumber: 2,
    instructions: [
      'The r command replaces a single character.',
      '',
      '  r{char} - replace character under cursor with {char}',
      '',
      'This is faster than going into insert mode',
      'for single character fixes.',
    ],
    task: 'Use r to fix the typos.',
    initialBuffer: [
      '',
      '  Thxs lxne has sxme typos xn xt.',
      '',
      '  Replace each x with the correct letter.',
      '',
    ],
    targetBuffer: [
      '',
      '  This line has some typos in it.',
      '',
      '  Replace each x with the correct letter.',
      '',
    ],
    hints: [
      'Move cursor to an x',
      'Press r then the correct letter',
    ],
    keysToLearn: ['r'],
  },
  {
    id: '3.3',
    title: 'Put, Replace, Change',
    subtitle: 'The Change Operator',
    level: 3,
    lessonNumber: 3,
    instructions: [
      'The c (change) operator deletes and enters insert mode.',
      '',
      '  ce - change to end of word',
      '  cw - change word (same as ce in most cases)',
      '  c$ - change to end of line',
      '  cc - change entire line',
      '',
      'Think of it as "delete and insert" in one step.',
    ],
    task: 'Use ce or cw to change the misspelled words.',
    initialBuffer: [
      '',
      '  The qwxk brown fxx jumped over the lzzy dog.',
      '',
      '  Change the misspelled words to fix the sentence.',
      '',
    ],
    targetBuffer: [
      '',
      '  The quick brown fox jumped over the lazy dog.',
      '',
      '  Change the misspelled words to fix the sentence.',
      '',
    ],
    hints: [
      'Move to "qwxk" and use cw to change it to "quick"',
      'Do the same for "fxx" and "lzzy"',
    ],
    keysToLearn: ['c', 'ce', 'cw'],
  },
  {
    id: '3.4',
    title: 'Put, Replace, Change',
    subtitle: 'Change with Motions',
    level: 3,
    lessonNumber: 4,
    instructions: [
      'Change works with any motion, just like delete.',
      '',
      '  c$ - change from cursor to end of line',
      '  cc - change the entire current line',
      '  c2w - change 2 words',
      '',
      'This is very powerful for rewriting sections.',
    ],
    task: 'Use c$ or cc to rewrite the lines.',
    initialBuffer: [
      '',
      '  This line ends wrong wrong wrong',
      '  REPLACE THIS ENTIRE LINE',
      '  Keep this line as is.',
      '',
    ],
    targetBuffer: [
      '',
      '  This line ends correctly!',
      '  This line has been changed.',
      '  Keep this line as is.',
      '',
    ],
    hints: [
      'On line 2, use c$ after "ends" to change the rest',
      'On line 3, use cc to replace the whole line',
    ],
    keysToLearn: ['c$', 'cc'],
  },

  // ============ LEVEL 4: LOCATION AND SEARCH ============
  {
    id: '4.1',
    title: 'Location and Search',
    subtitle: 'Location Status',
    level: 4,
    lessonNumber: 1,
    instructions: [
      'Navigating large files requires knowing where you are.',
      '',
      '  Ctrl-g - show current position in file',
      '  gg     - go to the FIRST line of file',
      '  G      - go to the LAST line of file',
      '  {num}G - go to line number {num}',
      '',
      'These commands help you jump around quickly.',
    ],
    task: 'Use gg and G to jump to the start and end.',
    initialBuffer: [
      '  Line 1: Use gg to come here.',
      '  Line 2: Just another line.',
      '  Line 3: Keep going...',
      '  Line 4: Almost there!',
      '  Line 5: Halfway point.',
      '  Line 6: More text here.',
      '  Line 7: Getting closer.',
      '  Line 8: Nearly done!',
      '  Line 9: One more line.',
      '  Line 10: Use G to come here.',
    ],
    targetBuffer: [],
    hints: [
      'Press gg to go to the first line',
      'Press G to go to the last line',
      'Press Ctrl-g to see your position',
    ],
    keysToLearn: ['Ctrl-g', 'gg', 'G'],
  },
  {
    id: '4.2',
    title: 'Location and Search',
    subtitle: 'Search Navigation',
    level: 4,
    lessonNumber: 2,
    instructions: [
      'Vim has powerful search capabilities.',
      '',
      '  /pattern - search FORWARD for pattern',
      '  ?pattern - search BACKWARD for pattern',
      '  n        - repeat search in same direction',
      '  N        - repeat search in opposite direction',
      '',
      'Press Enter after typing your search pattern.',
    ],
    task: 'Use / to search for "error" in the text.',
    initialBuffer: [
      '',
      '  This code has a bug somewhere.',
      '  Look for the error in this line.',
      '  No problems here.',
      '  Another error might be hiding.',
      '  The code continues here.',
      '  Found the last error!',
      '',
    ],
    targetBuffer: [],
    hints: [
      'Type /error and press Enter',
      'Press n to find the next occurrence',
      'Press N to go back',
    ],
    keysToLearn: ['/', '?', 'n', 'N'],
  },
  {
    id: '4.3',
    title: 'Location and Search',
    subtitle: 'Matching Parentheses',
    level: 4,
    lessonNumber: 3,
    instructions: [
      'When editing code, you often need to find matching brackets.',
      '',
      '  % - jump to matching parenthesis, bracket, or brace',
      '',
      'Place cursor on (, ), [, ], {, or } and press %',
      'to jump to its match.',
    ],
    task: 'Use % to navigate between matching brackets.',
    initialBuffer: [
      '',
      '  function example() {',
      '    if (condition) {',
      '      array[index] = value;',
      '    }',
      '  }',
      '',
      '  Navigate using % on brackets.',
      '',
    ],
    targetBuffer: [],
    hints: [
      'Move cursor to a bracket character',
      'Press % to jump to its match',
    ],
    keysToLearn: ['%'],
  },
  {
    id: '4.4',
    title: 'Location and Search',
    subtitle: 'Substitution',
    level: 4,
    lessonNumber: 4,
    instructions: [
      'The substitute command replaces text patterns.',
      '',
      '  :s/old/new      - replace first "old" with "new" on line',
      '  :s/old/new/g    - replace ALL "old" with "new" on line',
      '  :%s/old/new/g   - replace in entire file',
      '  :%s/old/new/gc  - replace with confirmation',
      '',
      'This is one of Vim\'s most powerful features.',
    ],
    task: 'Use :s/old/new to fix the repeated words.',
    initialBuffer: [
      '',
      '  The the quick quick fox fox jumped jumped high.',
      '',
      '  Use substitution to fix the repetitions.',
      '',
    ],
    targetBuffer: [
      '',
      '  The quick fox jumped high.',
      '',
      '  Use substitution to fix the repetitions.',
      '',
    ],
    hints: [
      'Move to line 2',
      'Type :s/the the/The/ and press Enter',
      'Or manually fix each duplicate',
    ],
    keysToLearn: [':s/', 'g'],
  },

  // ============ LEVEL 5: EXTERNAL COMMANDS AND WRITING ============
  {
    id: '5.1',
    title: 'External Commands',
    subtitle: 'Executing Shell Commands',
    level: 5,
    lessonNumber: 1,
    instructions: [
      'Vim can execute external shell commands!',
      '',
      '  :!{cmd} - execute shell command {cmd}',
      '',
      'Examples:',
      '  :!ls    - list files in current directory',
      '  :!pwd   - print working directory',
      '  :!date  - show current date/time',
      '',
      'Note: In this tutorial, shell commands are simulated.',
    ],
    task: 'Try running :!ls to list files.',
    initialBuffer: [
      '',
      '  Vim lets you run shell commands without leaving!',
      '',
      '  Type :!ls to see a (simulated) file listing.',
      '',
      '  This is very useful for:',
      '  - Compiling code',
      '  - Running tests',
      '  - File management',
      '',
    ],
    targetBuffer: [],
    hints: [
      'Type :!ls and press Enter',
      'The output will appear as a message',
    ],
    keysToLearn: [':!'],
  },
  {
    id: '5.2',
    title: 'External Commands',
    subtitle: 'Writing to Files',
    level: 5,
    lessonNumber: 2,
    instructions: [
      'Save your work with the write command.',
      '',
      '  :w           - write (save) current file',
      '  :w filename  - write to a new file',
      '  :wq          - write and quit',
      '  :x           - same as :wq',
      '',
      'Always save your work before quitting!',
    ],
    task: 'Practice the write command syntax.',
    initialBuffer: [
      '',
      '  This file contains important data.',
      '',
      '  In a real Vim session, you would:',
      '  - Type :w to save',
      '  - Type :w backup.txt to save a copy',
      '',
      '  Type :next to continue the tutorial.',
      '',
    ],
    targetBuffer: [],
    hints: [
      ':w saves the current file',
      ':w filename saves to a new file',
    ],
    keysToLearn: [':w', ':wq'],
  },
  {
    id: '5.3',
    title: 'External Commands',
    subtitle: 'Selective Saving',
    level: 5,
    lessonNumber: 3,
    instructions: [
      'You can save just a portion of the file.',
      '',
      '  v (visual mode) + :w filename',
      '',
      'Steps:',
      '  1. Enter visual mode with v',
      '  2. Select the lines you want',
      '  3. Type :w filename',
      '',
      'Vim will write only the selected lines.',
    ],
    task: 'Learn about selective saving.',
    initialBuffer: [
      '',
      '  HEADER - Do not save this',
      '  Important line 1 - SAVE THIS',
      '  Important line 2 - SAVE THIS',
      '  Important line 3 - SAVE THIS',
      '  FOOTER - Do not save this',
      '',
      '  Select lines 3-5 and save them separately.',
      '',
    ],
    targetBuffer: [],
    hints: [
      'Use V to select whole lines',
      'Then :w filename to save selection',
    ],
    keysToLearn: ['v', 'V'],
  },
  {
    id: '5.4',
    title: 'External Commands',
    subtitle: 'Retrieving Files',
    level: 5,
    lessonNumber: 4,
    instructions: [
      'Read content from other files into your buffer.',
      '',
      '  :r filename - read file and insert below cursor',
      '  :r !command - insert output of shell command',
      '',
      'Examples:',
      '  :r header.txt   - insert header.txt contents',
      '  :r !date        - insert current date',
    ],
    task: 'Understand the read command.',
    initialBuffer: [
      '',
      '  The :r command reads external content.',
      '',
      '  :r filename  - inserts file contents',
      '  :r !command  - inserts command output',
      '',
      '  This is great for templates and snippets!',
      '',
    ],
    targetBuffer: [],
    hints: [
      ':r filename inserts a file',
      ':r !date inserts the current date',
    ],
    keysToLearn: [':r'],
  },

  // ============ LEVEL 6: ADVANCED EDITING & VISUAL MODE ============
  {
    id: '6.1',
    title: 'Advanced Editing',
    subtitle: 'Open & Append',
    level: 6,
    lessonNumber: 1,
    instructions: [
      'Create new lines quickly with o and O.',
      '',
      '  o - open new line BELOW and enter insert mode',
      '  O - open new line ABOVE and enter insert mode',
      '  A - append at end of line',
      '',
      'These save you from navigating to line ends.',
    ],
    task: 'Use o and O to add new lines.',
    initialBuffer: [
      '',
      '  Line 1: Add a line below this.',
      '  Line 3: Add a line above this.',
      '',
    ],
    targetBuffer: [
      '',
      '  Line 1: Add a line below this.',
      '  Line 2: This was added with o.',
      '  Line 2.5: This was added with O.',
      '  Line 3: Add a line above this.',
      '',
    ],
    hints: [
      'On Line 1, press o to open line below',
      'On Line 3, press O to open line above',
    ],
    keysToLearn: ['o', 'O'],
  },
  {
    id: '6.2',
    title: 'Advanced Editing',
    subtitle: 'Replace Mode',
    level: 6,
    lessonNumber: 2,
    instructions: [
      'Replace mode overwrites text as you type.',
      '',
      '  R - enter Replace mode',
      '',
      'Unlike insert mode, Replace mode types OVER',
      'existing characters instead of inserting.',
      '',
      'Press <ESC> to return to Normal mode.',
    ],
    task: 'Use R to overwrite text.',
    initialBuffer: [
      '',
      '  Replace XXXXX with HELLO',
      '  Overwrite YYYYY with WORLD',
      '',
      '  Use R to type over the X and Y characters.',
      '',
    ],
    targetBuffer: [
      '',
      '  Replace HELLO with HELLO',
      '  Overwrite WORLD with WORLD',
      '',
      '  Use R to type over the X and Y characters.',
      '',
    ],
    hints: [
      'Move cursor to first X',
      'Press R to enter replace mode',
      'Type HELLO - it overwrites the Xs',
    ],
    keysToLearn: ['R'],
  },
  {
    id: '6.3',
    title: 'Advanced Editing',
    subtitle: 'Visual Selection',
    level: 6,
    lessonNumber: 3,
    instructions: [
      'Visual mode lets you select and operate on text.',
      '',
      '  v     - character-wise visual mode',
      '  V     - line-wise visual mode',
      '  Ctrl-v - block visual mode',
      '',
      'After selecting, use operators like d, y, c.',
    ],
    task: 'Use V to select and delete lines.',
    initialBuffer: [
      '',
      '  Keep this line.',
      '  DELETE THIS LINE',
      '  DELETE THIS LINE TOO',
      '  DELETE THIS AS WELL',
      '  Keep this line.',
      '',
    ],
    targetBuffer: [
      '',
      '  Keep this line.',
      '  Keep this line.',
      '',
    ],
    hints: [
      'Move to first DELETE line',
      'Press V to start line selection',
      'Press j to extend selection down',
      'Press d to delete selected lines',
    ],
    keysToLearn: ['v', 'V', 'Ctrl-v'],
  },
  {
    id: '6.4',
    title: 'Advanced Editing',
    subtitle: 'Copy and Paste',
    level: 6,
    lessonNumber: 4,
    instructions: [
      'Yank (copy) text and paste it elsewhere.',
      '',
      '  y  - yank (copy) operator',
      '  yy - yank entire line',
      '  yw - yank word',
      '  p  - paste after cursor',
      '  P  - paste before cursor',
      '',
      'Unlike delete, yank doesn\'t remove text.',
    ],
    task: 'Copy a line and paste it.',
    initialBuffer: [
      '',
      '  Original line - copy me!',
      '',
      '  Paste a copy of the line above here.',
      '',
    ],
    targetBuffer: [
      '',
      '  Original line - copy me!',
      '  Original line - copy me!',
      '',
      '  Paste a copy of the line above here.',
      '',
    ],
    hints: [
      'Move to "Original line"',
      'Press yy to yank the line',
      'Move to where you want the copy',
      'Press p to paste',
    ],
    keysToLearn: ['y', 'yy', 'yw'],
  },

  // ============ LEVEL 7: HELP AND CUSTOMIZATION ============
  {
    id: '7.1',
    title: 'Help & Options',
    subtitle: 'Online Help',
    level: 7,
    lessonNumber: 1,
    instructions: [
      'Vim has extensive built-in help documentation.',
      '',
      '  :help          - open help window',
      '  :help {topic}  - help on specific topic',
      '  :help w        - help for the w command',
      '  :help insert   - help about insert mode',
      '',
      'Press :q to close the help window.',
    ],
    task: 'Learn how to access Vim help.',
    initialBuffer: [
      '',
      '  Vim\'s help system is comprehensive.',
      '',
      '  Examples of help commands:',
      '    :help        - general help',
      '    :help motion - movement commands',
      '    :help user   - user manual',
      '',
      '  The help system is your best learning resource!',
      '',
    ],
    targetBuffer: [],
    hints: [
      'Type :help and press Enter',
      ':help {command} for specific help',
    ],
    keysToLearn: [':help', 'F1'],
  },
  {
    id: '7.2',
    title: 'Help & Options',
    subtitle: 'Vim Settings',
    level: 7,
    lessonNumber: 2,
    instructions: [
      'Customize Vim behavior with :set',
      '',
      '  :set number     - show line numbers',
      '  :set nonumber   - hide line numbers',
      '  :set hlsearch   - highlight search matches',
      '  :set ignorecase - case-insensitive search',
      '',
      'Permanent settings go in your .vimrc file.',
    ],
    task: 'Explore Vim settings.',
    initialBuffer: [
      '',
      '  Vim is highly customizable!',
      '',
      '  Common settings:',
      '    :set number      - line numbers',
      '    :set relativenumber - relative line numbers',
      '    :set tabstop=4   - tab width',
      '    :set expandtab   - spaces instead of tabs',
      '',
      '  Your .vimrc file stores permanent settings.',
      '',
    ],
    targetBuffer: [],
    hints: [
      ':set shows current settings',
      ':set all shows all settings',
    ],
    keysToLearn: [':set'],
  },
  {
    id: '7.3',
    title: 'Help & Options',
    subtitle: 'Command Completion',
    level: 7,
    lessonNumber: 3,
    instructions: [
      'Vim can complete commands for you!',
      '',
      '  Tab    - complete command or filename',
      '  Ctrl-d - list possible completions',
      '',
      'This works in command mode (:)',
      '',
      'Congratulations! You\'ve completed VimInteractive!',
      'Keep practicing and explore more Vim features!',
    ],
    task: 'You\'ve completed the tutorial!',
    initialBuffer: [
      '',
      '  ╔═══════════════════════════════════════╗',
      '  ║                                       ║',
      '  ║    CONGRATULATIONS!                   ║',
      '  ║                                       ║',
      '  ║    You have completed VimInteractive! ║',
      '  ║                                       ║',
      '  ║    Keep practicing to master Vim.     ║',
      '  ║                                       ║',
      '  ║    Remember:                          ║',
      '  ║    - Use :help for documentation      ║',
      '  ║    - Practice makes perfect           ║',
      '  ║    - Vim rewards muscle memory        ║',
      '  ║                                       ║',
      '  ╚═══════════════════════════════════════╝',
      '',
    ],
    targetBuffer: [],
    hints: [
      'Tab completes commands',
      'Ctrl-d shows possibilities',
    ],
    keysToLearn: ['Tab', 'Ctrl-d'],
  },
];

export const getLessonById = (id: string): Lesson | undefined => {
  return lessons.find(lesson => lesson.id === id);
};

export const getNextLesson = (currentId: string): Lesson | undefined => {
  const currentIndex = lessons.findIndex(lesson => lesson.id === currentId);
  if (currentIndex === -1 || currentIndex === lessons.length - 1) return undefined;
  return lessons[currentIndex + 1];
};

export const getPrevLesson = (currentId: string): Lesson | undefined => {
  const currentIndex = lessons.findIndex(lesson => lesson.id === currentId);
  if (currentIndex <= 0) return undefined;
  return lessons[currentIndex - 1];
};

export const getLessonsByLevel = (level: number): Lesson[] => {
  return lessons.filter(lesson => lesson.level === level);
};

export const getAllLevels = (): number[] => {
  return [...new Set(lessons.map(lesson => lesson.level))].sort();
};
